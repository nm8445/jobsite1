
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/src/css/index.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-body-tertiary gradient-custom">
      <div class="container">
        <a class="navbar-brand text-dark"  >Job Hunt</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active text-dark" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active text-dark" aria-current="page" href="/jobs">Jobs</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active text-dark" aria-current="page" href="/profile">Profile</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Filters
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="">Salary</a></li>
                <li><a class="dropdown-item" href="">Education Level</a></li>
                <li><a class="dropdown-item" href="">Job Type</a></li>  
              </ul>
            </li>    
          </ul>
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a id ="navloginbutton" class="nav-link active text-dark" aria-current="page" href="/login">Login</a>
            </li>
             <!-- Logout Button - initially hidden (href does not navigate to page rather on click will trigger logout)-->
            <li class="nav-item" id="logoutItem" style="display: none;">
              <a id="navlogoutbutton" class="nav-link active text-dark" 
              aria-current="page" href="#" onclick="logout()">Logout</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active text-dark" aria-current="page" href="/signup">Sign Up</a>
            </li> 
            </ul>
            
        </div>
      </div>
    </nav>

    <div class="container my-5">
      <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <!-- Creates a container with margin at the top and bottom. -->
<div class="container my-5"> 

  <!-- Search Bar and Filters Section -->
  <div class="d-flex justify-content-between mb-4">
    <!-- Search Bar -->
    <input id="search-bar" type="text" class="form-control w-50" placeholder="Search for jobs..." onkeyup="filterJobs()" />

    <!-- Filter by Job Type -->
    <select id="type-filter" class="form-control w-25" onchange="filterJobs()">
      <option value="">Filter by Job Type</option>
      <option value="Full-time">Full-time</option>
      <option value="Part-time">Part-time</option>
      <option value="Internship">Internship</option>
      <option value="Contract">Contract</option>
      <option value="Volunteer">Volunteer</option> <!-- Added Volunteer option -->
    </select>

    <!-- Filter by Education -->
    <select id="education-filter" class="form-control w-25" onchange="filterJobs()">
      <option value="">Filter by Education</option>
      <option value="High School">High School</option>
      <option value="College">College</option>
      <option value="Bachelor's Degree">Bachelor's Degree</option>
      <option value="Master's Degree">Master's Degree</option>
      <option value="PhD">PhD</option>
    </select>

    <!-- Filter by Salary -->
    <select id="salary-filter" class="form-control w-25" onchange="filterJobs()">
      <option value="">Filter by Salary</option>
      <option value="0-30000">$0 - $30,000</option>
      <option value="30000-50000">$30,000 - $50,000</option>
      <option value="50000-70000">$50,000 - $70,000</option>
      <option value="70000+">$70,000+</option>
    </select>
  </div>

  <!-- Creates an ordered list for job posts with a bottom margin. -->
  <ol id="job-posts" class="list-group mb-3">
    <!-- Loops through the job listings on this page. -->
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/softeng/">Softeng</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Ajax Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Design, develop, test, and deploy software solutions based on business requirements.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Collaborate with product managers, designers, and other engineers to deliver high-quality software.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Write clean, maintainable, and efficient code following best practices.</li>
            
          </ul>
        </div>
      </li>
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/scaffolder/">Scaffolder</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Whitby Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Assemble and dismantle scaffolding structures in accordance with industry safety standards.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Inspect scaffolding for stability and security before use.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Ensure scaffolding materials are transported and stored properly.</li>
            
          </ul>
        </div>
      </li>
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/trader/">Trader</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Toronto Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Execute trades in financial markets, including stocks, bonds, currencies, and derivatives.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Monitor market trends, economic data, and financial news to identify profitable opportunities.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Analyze risk and implement strategies to mitigate potential losses.</li>
            
          </ul>
        </div>
      </li>
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/marketing-manager/">Marketing-Manager</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Mississauga Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Develop, implement, and execute strategic marketing plans for an entire organization.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Lead and motivate a team of marketing professionals to achieve business goals.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Monitor market trends and oversee advertising and marketing activities to ensure the right message is delivered.</li>
            
          </ul>
        </div>
      </li>
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/customerservicerepresentative/">CustomerServiceRepresentative</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Hamilton Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Handle customer inquiries, complaints, billing questions and payment extension/service requests.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Calm angry callers, repair trust, locate resources for problem resolution and design best-option solutions.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Interface daily with internal partners in accounting, field services, new business, operations and consumer affairs divisions.</li>
            
          </ul>
        </div>
      </li>
    
      <!-- Each job will be listed as an item in the list. -->
      <li class="list-group-item">
        <!-- Make the job title a clickable link to the job detail page. -->
        <h5 class="mb-1"><a href="/Jobs/projectmanager/">ProjectManager</a></h5>
        <!-- The job title becomes a clickable link, and the 'slug' function makes the title URL-friendly. -->
        <p class="card-text">Kitchener Ontario</p>
        <!-- Shows the location of the job. -->
        <div>
          <!-- Creates an unordered list for additional job details. -->
          <ul>
            <!-- Loops through each detail of the job. -->
            
            <!-- Displays each job detail as a list item. -->
            <li>Coordinate internal resources and third parties/vendors for the flawless execution of projects.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Ensure that all projects are delivered on-time, within scope and within budget.</li>
            
            <!-- Displays each job detail as a list item. -->
            <li>Develop project scopes and objectives, involving all relevant stakeholders and ensuring technical feasibility.</li>
            
          </ul>
        </div>
      </li>
    
  </ol>

  <!-- Pagination Controls -->
  <!-- Creates a navigation bar for the pagination controls. -->
  <nav aria-label="Page navigation">
    <!-- Creates a list for the pagination items, centered. -->
    <ul id="pagination" class="pagination justify-content-center">
      <!-- Checks if there is a previous page. -->
      

      <!-- Checks if there is a next page. -->
      
        <li class="page-item">
          <a class="page-link" href="/jobs/1/" aria-label="Next">
            <span aria-hidden="true">Next &raquo;</span>
            <!-- If there is a next page, display the "Next" link. -->
          </a>
        </li>
      
    </ul>
  </nav>
</div>

<!-- Search and Filter Logic -->
<script>
  function filterJobs() {

	  // Get the search query from the search bar
    var searchQuery = document.getElementById('search-bar').value.toLowerCase();
    var jobItems = document.querySelectorAll('.job-item');

	  // Get the values of the selected filters
    var jobTypeFilter = document.getElementById('type-filter').value.toLowerCase();
    var educationFilter = document.getElementById('education-filter').value.toLowerCase();
    var salaryFilter = document.getElementById('salary-filter').value;

	  // Loop through each job item and check if it matches the filters
    jobItems.forEach(function(job) {
      var jobTitle = job.querySelector('h5').textContent.toLowerCase();
      var jobType = job.getAttribute('data-type').toLowerCase();
      var education = job.getAttribute('data-education').toLowerCase();
      var salary = job.getAttribute('data-salary');

      // Check if the job matches the search query and selected filters
      var matchesSearch = jobTitle.includes(searchQuery);
      var matchesType = !jobTypeFilter || jobType.includes(jobTypeFilter);
      var matchesEducation = !educationFilter || education.includes(educationFilter);
      var matchesSalary = !salaryFilter || matchesSalaryRange(salary, salaryFilter);
	
	    // If all the conditions are met, show the job; otherwise, hide it
      if (matchesSearch && matchesType && matchesEducation && matchesSalary) {
        job.style.display = 'block';
      } else {
        job.style.display = 'none';
      }
    });
  }

  // Function to match filter salary to the salary of the listed position
  function matchesSalaryRange(jobSalary, filterSalary) {
    if (!jobSalary) return false;
    var salaryRange = filterSalary.split('-');
    // Removes non-numeric characters
    var jobSalaryValue = parseInt(jobSalary.replace(/\D/g, '')); 

    // If the salary filter has a '+', only check if the job's salary is above the minimum
    if (filterSalary.includes('+')) {
      return jobSalaryValue >= parseInt(salaryRange[0]);
      // Otherwise, ensure the salary is within the specified range (min and max)
    } else {
      return jobSalaryValue >= parseInt(salaryRange[0]) && jobSalaryValue <= parseInt(salaryRange[1]);
    }
  }
</script>
  </body>
  

      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="/scripts/applyredirect.js"></script>
    <script src="/server/logout.js"></script>
    <script src="/server/signupformhandler.js"></script>
    <script src="/server/loginformhandler.js"></script>
  </body>
</html>
